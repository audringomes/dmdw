hmLoadTopic({
hmKeywords:"",
hmTitle:"API",
hmDescription:"DMDW Writer The API for the sw:dm_xml_writer is as shown below:   DMDW Translator The class sw:dm_xml_transformer offers a way to perform the translation from XML to HTML usin",
hmPrevLink:"dmdw_smallworld.html",
hmNextLink:"dmdw_modules.html",
hmParentLink:"dmdw_smallworld.html",
hmBreadCrumbs:"<a href=\"dmdw_smallworld.html\">Magik<\/a>",
hmTitlePath:"Magik > API",
hmHeader:"",
hmBody:"<h1 class=\"p_Heading1\"><span class=\"f_Heading1\">DMDW&nbsp;Writer<\/span><\/h1>\n\r<p class=\"p_Normal\">The API for the <span style=\"font-weight: bold;\">sw:dm_xml_writer<\/span> is as shown below:<\/p>\n\r<div class=\"magik\">\n\r    <pre>\n\r <span class=\"comment\">*** The 2 basic or advanced or debug methods defined on the class, `dm_xml_writer\'.<\/span>\n\r\n\r<span class=\"function-name\">new()<\/span>  IN  <span class=\"type\">sw:dm_xml_writer<\/span>    B\n\r<span class=\"variable-name\"> ds properties<\/span>\n\r\n\r        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## DS - The databse view to be reported\n\r<\/span>        <span class=\"comment\">## PROPERTIES - A property_list with the following keys\n\r<\/span>        <span class=\"comment\">## :ace_name   - name of ACE to be used for categories and order of\n\r<\/span>        <span class=\"comment\">## collections\n\r<\/span>        <span class=\"comment\">## :output_file\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## The following properties are optional:\n\r<\/span>        <span class=\"comment\">## :update_file - file pathname of xml with updates\n\r<\/span>        <span class=\"comment\">## :dm_product_name  - name of sw_product for datamodel version\n\r<\/span>        <span class=\"comment\">## :dm_module_name - name of sw_module for datamodel version\n\r<\/span>        <span class=\"comment\">## :dm_predicate - a predicate\n\r<\/span>        <span class=\"comment\">## :dataset_specials (a class as dm_dataset_specials)\n\r<\/span>        <span class=\"comment\">## :products_for_version - collection of product names for which\n\r<\/span>        <span class=\"comment\">## a version should be written.\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## On instantiation it will gather data.\n\r<\/span>        <span class=\"comment\">## \n\r<\/span><span class=\"function-name\">\n\r<\/span>\n\r<span class=\"function-name\">process()<\/span>  IN  <span class=\"type\">sw:dm_xml_writer<\/span>    B\n\r<span class=\"function-name\">\n\r<\/span>\n\r        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## Writes all xml elements to .out_file in the following order:\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## 0. Datamodel and software details\n\r<\/span>        <span class=\"comment\">## 1. Categories &amp; collections\n\r<\/span>        <span class=\"comment\">## 2. Enumerators\n\r<\/span>        <span class=\"comment\">## 3. Topology\n\r<\/span>        <span class=\"comment\">## \n\r<\/span><span class=\"function-name\">\n\r\n\r<\/span><\/pre>\n\r<\/div><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h1 class=\"p_Heading1\"><span class=\"f_Heading1\">DMDW&nbsp;Translator<\/span><\/h1>\n\r<p class=\"p_Normal\">The class <span style=\"font-weight: bold;\">sw:dm_xml_transformer<\/span> offers a way to perform the translation from XML to HTML using XSLT. Run by <span style=\"font-weight: bold;\">transform_to_html()<\/span><\/p>\n\r<p class=\"p_Normal\">The class acts as singleton. No instantiation necessary.<\/p>\n\r<div class=\"magik\">\n\r    <pre>\n\r<span class=\"function-name\">transform_to_html()<\/span>  IN  <span class=\"type\">sw:dm_xml_transformer<\/span>    B\n\r <span class=\"variable-name\">p_module_name p_input_file <\/span><span class=\"cb-font-lock-optional\">OPT p_output_dir p_stylesheet p_copy_html_resources? p_copy_help?<\/span>\n\r\n\r        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## Do a XSLT transform on xml file P_INPUT_FILE in module\n\r<\/span>        <span class=\"comment\">## P_MODULE_NAME using the XLST file P_STYLESHEET.\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## P_INPUT_FILE should be in base\/data resource of P_MODULE_NAME.\n\r<\/span>        <span class=\"comment\">## P_OUTPUT_DIR defaults to the base\/html_output resource\n\r<\/span>        <span class=\"comment\">## folder of module P_MODULE_NAME or, when this\n\r<\/span>        <span class=\"comment\">## does not exist, the directory of P_INPUT_FILE.\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## P_STYLESHEET is the name of the xsl stylesheet to use. This\n\r<\/span>        <span class=\"comment\">## defaults to FileSet2.xsl in the data\/xsl of the module\n\r<\/span>        <span class=\"comment\">## :ds_doc_writer.\n\r<\/span>        <span class=\"comment\">## If P_STYLESHEET is an absolute path, that file will be used.\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## P_COPY_HTML_RESOURCES? If true (default is _true) it will\n\r<\/span>        <span class=\"comment\">## copy the resources in the data\/html folder of\n\r<\/span>        <span class=\"comment\">## ds_doc_writer into P_OUTPUT_DIR\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## P_COPY_HELP? If true (default is _true) it copies the help\n\r<\/span>        <span class=\"comment\">## resources of the module into P_OUTPUT_DIR\n\r<\/span>        <span class=\"comment\">## \n\r<\/span>        <span class=\"comment\">## The method returns the full outputpath of the html.\n\r<\/span>        <span class=\"comment\">## \n\r<\/span><span class=\"function-name\">\n\r\n\r<\/span><\/pre>\n\r<\/div><p class=\"p_Normal\">&nbsp;<\/p>\n\r<h1 class=\"p_Heading1\"><span class=\"f_Heading1\">Procs<\/span><\/h1>\n\r<p class=\"p_Normal\">The following procs are available:<\/p>\n\r<div class=\"magik\">\n\r    <pre>\n\r\n\r<span class=\"magik-font-lock-keyword-statements\">_pragma<\/span><span class=\"magik-font-lock-pragma\">(classify_level=basic, topic={wd_doc_writer})<\/span>\n\r<span class=\"doc\">##<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">## Creates a default module structure and adds the following<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">## structure to it:<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##   base\/data<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##   base\/xml<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##   base\/html<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##   base\/html_output<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##   base\/xsl<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##   en_gb\/messages<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##   en_gb\/help<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##<\/span><span class=\"comment\">\n\r<\/span><span class=\"magik-font-lock-keyword-variable\">_global<\/span> create_dmdw_module &lt;&lt;\n\r<span class=\"magik-font-lock-procedure\">_proc<\/span> <span class=\"constant\">@create_module<\/span>(p_parent_dir,p_module_name, <span class=\"magik-font-lock-keyword-arguments\">_gather<\/span> p_args)\n\r        \n\r        <span class=\"magik-font-lock-keyword-variable\">_local<\/span> l_args &lt;&lt; property_list.<span class=\"function-name\">new_from_gathered<\/span>(p_args)\n\r        l_args[<span class=\"magik-font-lock-symbol\">:resources<\/span>] &lt;&lt; property_list.<span class=\"function-name\">new_with<\/span>(<span class=\"magik-font-lock-symbol\">:base<\/span>,{<span class=\"magik-font-lock-symbol\">:data<\/span>,<span class=\"magik-font-lock-symbol\">:xml<\/span>,<span class=\"magik-font-lock-symbol\">:html<\/span>,<span class=\"magik-font-lock-symbol\">:html_output<\/span>,<span class=\"magik-font-lock-symbol\">:xsl<\/span>},\n\r                                                     <span class=\"magik-font-lock-symbol\">:en_gb<\/span>,{<span class=\"magik-font-lock-symbol\">:messages<\/span>,<span class=\"magik-font-lock-symbol\">:help<\/span>})\n\r        <span class=\"magik-font-lock-keyword-variable\">_local<\/span> l_mod &lt;&lt; sw_module_manager.<span class=\"function-name\">build_module<\/span>(p_parent_dir,p_module_name,<span class=\"magik-font-lock-keyword-arguments\">_scatter<\/span> l_args)\n\r        <span class=\"magik-font-lock-keyword-variable\">_local<\/span> l_mdir &lt;&lt; system.<span class=\"function-name\">pathname_down<\/span>(p_parent_dir,p_module_name)\n\r        <span class=\"magik-font-lock-write\">write<\/span>(<span class=\"string\">\"Module \"<\/span>,l_mdir,<span class=\"string\">\" created. Don\'t forget to set requirement ds_doc_writer\"<\/span>)\n\r        &gt;&gt; <span class=\"constant\">_true<\/span> \n\r<span class=\"magik-font-lock-procedure\">_endproc<\/span>\n\r\$\n\r\n\r<span class=\"magik-font-lock-keyword-statements\">_pragma<\/span><span class=\"magik-font-lock-pragma\">(classify_level=basic, topic={wd_doc_writer})<\/span>\n\r<span class=\"doc\">##<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">## Do a xslt translation of the dmdw xml file P_INPUT_FILE<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">## in the xml resource folder of P_MODULE_NAME<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">## See dm_xml_transformer.transform_to_html() for further<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">## information on the arguments<\/span><span class=\"comment\">\n\r<\/span><span class=\"doc\">##<\/span><span class=\"comment\">\n\r<\/span><span class=\"magik-font-lock-keyword-variable\">_global<\/span> transform_to_html &lt;&lt;\n\r<span class=\"magik-font-lock-procedure\">_proc<\/span> <span class=\"constant\">@transform_to_fileset_html<\/span>(p_module_name, p_input_file, <span class=\"magik-font-lock-keyword-arguments\">_optional<\/span>\n\r                                 p_outdir, p_stylesheet, <span class=\"magik-font-lock-boolean\">p_copy_html_resources?<\/span>, <span class=\"magik-font-lock-boolean\">p_copy_help?<\/span>)\n\r        \n\r        &gt;&gt; dm_xml_transformer.<span class=\"function-name\">transform_to_html<\/span>(\n\r                   p_module_name,\n\r                   p_input_file,\n\r                   p_outdir,\n\r                   p_stylesheet,\n\r                   <span class=\"magik-font-lock-boolean\">p_copy_html_resources?<\/span>,\n\r                   <span class=\"magik-font-lock-boolean\">p_copy_help?<\/span>\n\r                              )\n\r\n\r<span class=\"magik-font-lock-procedure\">_endproc<\/span>\n\r\$\n\r<\/pre>\n\r<\/div>"
})
